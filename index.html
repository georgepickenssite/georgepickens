<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>George Pickens</title>
</head>
<body>
  <div id="navbar-container"></div>
  <div id="content"></div>

<script>
  const routes = {
    "home": "home/home.html",
    "games": "games/index.html",
    "movies": "movies/index.html",
    "about/changelog": "about/changelog.html"
  };

  function loadPageFromHash() {
    const hash = location.hash.slice(1); // Remove the #
    const page = routes[hash] || routes["home"];
    fetch(page)
      .then(res => {
        if (!res.ok) throw new Error("Page not found");
        return res.text();
      })
      .then(html => {
        document.getElementById("content").innerHTML = html;
      })
      .catch(err => {
        document.getElementById("content").innerHTML = "<p>Failed to load page.</p>";
        console.error(err);
      });
  }

  // Handle initial load and hash changes
  window.addEventListener("hashchange", loadPageFromHash);
  window.addEventListener("DOMContentLoaded", () => {
    // Load the navbar first
    const template = document.getElementById("navbar-template");
    const clone = template.content.cloneNode(true);
    document.getElementById("navbar-container").appendChild(clone);

    // Then load content
    loadPageFromHash();
  });
</script>
</body>
</html>
